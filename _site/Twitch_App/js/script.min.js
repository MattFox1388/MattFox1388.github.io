$(document).ready(function(){var array=['joshOG','FreeCodeCamp','TimTheTatman','LealeRyan','h3h3productions','CaptainSpiking','purgegamers','Draskyl'];var newArray=[];var $table=$('.table');for(var i=0;i<array.length;i++){$.ajax({url:"https://wind-bow.glitch.me/twitch-api/streams/"+array[i]+"?callback=?",success:function(data){var num=data.indexOf('&')+2;var str=data.substring(num);var result=str.substring(2,str.length-2);var obj=JSON.parse(result);if(obj.stream!==null){$table.find('tbody').append($('<tr>').addClass('online').append($('<td>').append($('<img>').attr('src',obj.stream.channel.logo).attr('height',100))).append($('<td>').append($('<a>').text(obj.stream.channel.display_name).attr('href',obj.stream.channel.url).addClass('anchor'))).append($('<td>').append($('<p>').text(obj.stream.channel.game))).append($('<td>').append($('<p>').text(obj.stream.viewers))))}else{var twitchURL=obj._links.channel;var num1=twitchURL.indexOf('s/');var twitchName=twitchURL.substring(num1+2);var URL='https://wind-bow.glitch.me/twitch-api/channels/'+twitchName;var xhr=new XMLHttpRequest();xhr.open('GET',URL);xhr.onload=function(){var offlineObj=JSON.parse(xhr.responseText);$table.find('tbody').append($('<tr>').addClass('offline').append($('<td>').append($('<img>').attr('src',offlineObj.logo).attr('height',100))).append($('<td>').append($('<a>').text(offlineObj.display_name).attr('href',offlineObj.url).addClass('anchor'))).append($('<td>').append($('<p>').text('Offline'))))};xhr.send()}},error:function(data){arr.push(blank)},complete:function(){}})}
$('#online').click(function(e){e.preventDefault();$('.offline').hide();$('.online').show();$(this).addClass('active');$('#all').removeClass('active');$('#offline').removeClass('active')});$('#offline').click(function(e){e.preventDefault();$('.online').hide();$('.offline').show();$(this).addClass('active');$('#all').removeClass('active');$('#online').removeClass('active')});$('#all').click(function(e){e.preventDefault();$('.online').show();$('.offline').show();$(this).addClass('active');$('#online').removeClass('active');$('#offline').removeClass('active')})})
